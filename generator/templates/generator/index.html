{% extends 'generator/base.html' %}

{% block title %}é¦–é¡µ - Vanity{% endblock %}

{% block content %}
<div class="page-header">
    <h1>ğŸ¨ Vanity</h1>
    <p>AIé©±åŠ¨çš„ç¤¾äº¤åª’ä½“æ–‡æ¡ˆç”Ÿæˆå™¨</p>
    <p class="text-muted">è¾“å…¥æ‚¨çš„éœ€æ±‚ï¼Œè·å¾—5æ¡ä¸“ä¸šå®šåˆ¶çš„æœ‹å‹åœˆæ–‡æ¡ˆ</p>
</div>

<form method="post" enctype="multipart/form-data" class="needs-validation" novalidate>
    {% csrf_token %}
    
    <div class="row">
        <!-- å·¦ä¾§è¡¨å• -->
        <div class="col-md-8">
            <!-- é…å›¾ä¸Šä¼  -->
            <div class="mb-4">
                <label for="{{ form.image.id_for_label }}" class="form-label">
                    ğŸ“¸ {{ form.image.label }}
                    <span class="text-muted">(å¯é€‰)</span>
                </label>
                {{ form.image }}
                <div class="form-text">{{ form.image.help_text }}</div>
            </div>
            
            <!-- äº‹ä»¶æè¿° -->
            <div class="mb-4">
                <label for="{{ form.event_description.id_for_label }}" class="form-label">
                    ğŸ“ {{ form.event_description.label }}
                    <span class="text-muted">(å¯é€‰)</span>
                </label>
                {{ form.event_description }}
                <div class="form-text">åˆ†äº«æ‚¨æƒ³è¦è¡¨è¾¾çš„äº‹ä»¶æˆ–æ„Ÿå—</div>
            </div>
            
            <!-- å†…å®¹é£æ ¼ -->
            <div class="mb-4">
                <label for="{{ form.style.id_for_label }}" class="form-label">
                    ğŸ­ {{ form.style.label }}
                    <span class="text-danger">*</span>
                </label>
                {{ form.style }}
                <div class="form-text">é€‰æ‹©æœ€ç¬¦åˆæ‚¨æœŸæœ›çš„å†…å®¹é£æ ¼ï¼Œè¿™å°†å½±å“æ–‡æ¡ˆçš„æ•´ä½“è°ƒæ€§</div>
            </div>
            
            <!-- è¯­è¨€é€‰æ‹© -->
            <div class="row mb-4">
                <div class="col-md-6">
                    <label for="{{ form.language.id_for_label }}" class="form-label">
                        ğŸŒ {{ form.language.label }}
                    </label>
                    {{ form.language }}
                </div>
                
                <!-- å—ä¼—ç±»å‹ -->
                <div class="col-md-6">
                    <label for="{{ form.audience_type.id_for_label }}" class="form-label">
                        ğŸ‘¥ {{ form.audience_type.label }}
                        <span class="text-danger">*</span>
                    </label>
                    {{ form.audience_type }}
                </div>
            </div>
            
            <!-- å—ä¼—æè¿° -->
            <div class="mb-4">
                <label for="{{ form.audience_description.id_for_label }}" class="form-label">
                    ğŸ¯ {{ form.audience_description.label }}
                    <span class="text-danger">*</span>
                </label>
                {{ form.audience_description }}
                <div class="form-text">è¯¦ç»†æè¿°æ‚¨çš„ç›®æ ‡å—ä¼—ï¼Œæœ‰åŠ©äºç”Ÿæˆæ›´ç²¾å‡†çš„å†…å®¹</div>
            </div>
            
            <!-- è¡¥å……è¯´æ˜ -->
            <div class="mb-4">
                <label for="{{ form.additional_notes.id_for_label }}" class="form-label">
                    ğŸ’¡ {{ form.additional_notes.label }}
                    <span class="text-muted">(å¯é€‰)</span>
                </label>
                {{ form.additional_notes }}
                <div class="form-text">ä»»ä½•å…¶ä»–è¦æ±‚æˆ–æƒ³æ³•</div>
            </div>
            
            <!-- æäº¤æŒ‰é’® -->
            <div class="text-center">
                <button type="submit" class="btn btn-primary btn-lg">
                    âœ¨ å¼€å§‹ç”Ÿæˆæ–‡æ¡ˆ
                </button>
            </div>
        </div>
        
        <!-- å³ä¾§æç¤º -->
        <div class="col-md-4">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title">ğŸ’¡ ä½¿ç”¨æç¤º</h5>
                    
                    <div class="mb-3">
                        <h6>ğŸ“‹ å¡«å†™å»ºè®®ï¼š</h6>
                        <ul class="list-unstyled">
                            <li>â€¢ é£æ ¼é€‰æ‹©æœ€ä¸ºé‡è¦</li>
                            <li>â€¢ è¯¦ç»†æè¿°æ‚¨çš„å—ä¼—</li>
                            <li>â€¢ äº‹ä»¶æè¿°è¶Šå…·ä½“è¶Šå¥½</li>
                            <li>â€¢ å¯ä¸Šä¼ ç›¸å…³å›¾ç‰‡</li>
                        </ul>
                    </div>
                    
                    <div class="mb-3">
                        <h6>ğŸ¨ é£æ ¼è¯´æ˜ï¼š</h6>
                        <small class="text-muted">
                            <strong>è½»æ¾éšæ„ï¼š</strong>æ—¥å¸¸åˆ†äº«<br>
                            <strong>æ­£å¼ä¸¥è‚ƒï¼š</strong>å•†åŠ¡åœºåˆ<br>
                            <strong>å¹½é»˜é£è¶£ï¼š</strong>æç¬‘å†…å®¹<br>
                            <strong>æ·±æƒ…æ„Ÿäººï¼š</strong>æƒ…æ„Ÿè¡¨è¾¾<br>
                            <strong>åŠ±å¿—å‘ä¸Šï¼š</strong>æ­£èƒ½é‡<br>
                            <strong>ä¸“ä¸šå•†åŠ¡ï¼š</strong>èŒåœºåˆ†äº«<br>
                            <strong>æ—¶å°šæ½®æµï¼š</strong>å¹´è½»åŒ–è¡¨è¾¾<br>
                            <strong>æ–‡è‰ºæ¸…æ–°ï¼š</strong>æ–‡å­¦è‰²å½©<br>
                            <strong>ç®€çº¦é£æ ¼ï¼š</strong>ç®€æ´æ˜äº†<br>
                            <strong>æˆå‰§åŒ–ï¼š</strong>å¤¸å¼ è¡¨è¾¾
                        </small>
                    </div>
                    
                    <div class="alert alert-info">
                        <small>
                            <i class="bi bi-info-circle"></i>
                            ç”Ÿæˆåæ‚¨å°†è·å¾—5æ¡ä¸åŒçš„æ–‡æ¡ˆé€‰æ‹©ï¼Œå¯ç›´æ¥å¤åˆ¶ä½¿ç”¨ï¼
                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // æ–‡ä»¶ä¸Šä¼ é¢„è§ˆ
    const imageInput = document.getElementById('{{ form.image.id_for_label }}');
    if (imageInput) {
        imageInput.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ å›¾ç‰‡é¢„è§ˆåŠŸèƒ½
                    console.log('å›¾ç‰‡å·²é€‰æ‹©:', file.name);
                };
                reader.readAsDataURL(file);
            }
        });
    }
    
    // å­—ç¬¦è®¡æ•°å™¨
    const textareas = document.querySelectorAll('textarea');
    textareas.forEach(function(textarea) {
        const maxLength = textarea.getAttribute('maxlength');
        if (maxLength) {
            const counter = document.createElement('div');
            counter.className = 'form-text text-end';
            counter.innerHTML = `<span class="char-count">0</span>/${maxLength}`;
            textarea.parentNode.appendChild(counter);
            
            const charCount = counter.querySelector('.char-count');
            textarea.addEventListener('input', function() {
                charCount.textContent = this.value.length;
                if (this.value.length > maxLength * 0.9) {
                    charCount.className = 'char-count text-warning';
                } else {
                    charCount.className = 'char-count';
                }
            });
        }
    });
});
</script>
{% endblock %}

{% block extra_css %}
<style>
.char-count {
    font-weight: 600;
}
</style>
{% endblock %}